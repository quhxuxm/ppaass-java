package com.ppaass.commom.message;

import java.io.IOException;

public class MessageSerializerTest {
    public static void main(String[] args) throws IOException {
//        FileInputStream fileInputStream = new FileInputStream("D:\\ppaass_message");
//        FileInputStream proxyPublicKeyStream =
//                new FileInputStream("D:\\Git\\ppaass\\agent\\src\\main\\resources\\security\\agentPrivateKey");
//        byte[] allBytes = fileInputStream.readAllBytes();
//        EmbeddedChannel embeddedChannel =
//                new EmbeddedChannel(
//                        new LengthFieldBasedFrameDecoder(Integer.MAX_VALUE, 0, 4, 0, 4));
//        embeddedChannel.writeInbound(Unpooled.wrappedBuffer(allBytes));
//        ByteBuf proxyMessageBuf = embeddedChannel.readInbound();
//        ProxyMessage message = MessageCodec.INSTANCE
//                .decodeProxyMessage(proxyMessageBuf, proxyPublicKeyStream.readAllBytes());
//        System.out.println(message.getBody().getBodyType());
    }
}
